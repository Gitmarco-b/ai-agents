# ============================================================================
# ðŸŒ™ Moon Dev's Nixpacks Configuration
# ============================================================================
# This file configures the build process for nixpacks-based deployments
# (Railway, Render, etc.)
#
# Note: This configuration is for cloud deployments WITHOUT local Ollama.
# For local Ollama support, use Docker with docker-compose instead.
# ============================================================================

[phases.setup]
nixPkgs = [
  "python310",      # Python 3.10
  "gcc",            # C compiler for building native extensions
  "pkg-config",     # Package config tool
  "zlib",           # Compression library
]

[phases.install]
cmds = [
  "pip install --upgrade pip setuptools wheel",
  "pip install --no-cache-dir -r requirements.txt"
]

[phases.build]
# No build phase needed for Flask app

[start]
cmd = "python trading_app.py"

[variables]
# Python environment
PYTHONUNBUFFERED = "1"
PYTHONDONTWRITEBYTECODE = "1"

# Deployment note: Make sure to set these in your platform's environment variables:
# - ANTHROPIC_KEY (or other AI provider keys)
# - BIRDEYE_API_KEY
# - MOONDEV_API_KEY
# - HYPERLIQUID_ETH_PRIVATE_KEY (if using HyperLiquid)
# - RPC_ENDPOINT
# etc. (see .env_example for full list)
